#docker #dockerfile

- 1 приложение - 1 контейнер
- Правильно обращатьсяс `PID 1`, обработкой сигналов и зомби-процессов
	``` DOCKERFILE
	...
	CMD ["nginx, "-g", "daemon off;"]
```
- `RUN apt-get upgrade` - плохо, тк изменяет много версий и долго
- Делать как можно меньше слоев
- Делать как можно легковеснее, меньше мусора
- Не забывать подчищать за собой
``` DOCKEFILE
apt-get update && \
....
[clean]

```
- Тегирование важно
- Сканировать на безопасность, например сонар куб (саст анализаторы), даст анализаторы, например 
- Не использовать root внутри контейнера
- Что-то про:
	DEBIAN_FRONTEND=nonin
	ulimit -n 1024 для центос

![[Pasted image 20230523212709.png]]