#terraform

- **Terraform** — это система управления состоянием инфраструктуры, придерживающаяся подхода идемпотентности и декларативного стиля управления
- Написан на Go
- Workflow
	- terraform init — инициализация провайдера;
	- terraform plan — валидация конфигурационного файла;
	- terraform apply — применение конфигурации;
	- terraform destroy  — удаление конфигурации
- Ресурс - объект инфраструктуры, которым мы управляем
- Синтаксис языка HCL
	``` HCL
	<BLOCK TYPE> "<BLOCK LABEL>" "<BLOCK LABEL>" {
		# Block body
		<IDENTIFIER> = <EXPRESSION> # Argument
	}
	```
- HCL пишется в `.tf`, а Json HCL в `.tf.json`
- terraform запускает дерево модулей, корневой модуль находится в working directory
- terraform запускает все файлы конфигурации (Я так понимаю собирает единый файл в лексикографическом порядке и - вперед)
- Конфигурационные файлы должны описывать *разные* ресурсы, иначе ошибка
- Можно переписать какие-нибудь ресурсы/атрибуты ресурсов
- terraform изначально собирает общую конфигурацию из обычных файлов, но после этого находит все файлы перезаписи (override):
	- `override.tf`
	- `override.tf.json`
	- `*_override.tf`
	- `*_override.tf.json`
	и мерджит их в основную конфигурацию
- Не стоит увлекаться overriding
- 